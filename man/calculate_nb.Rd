% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metrics.R
\name{calculate_nb}
\alias{calculate_nb}
\title{Neighbor Balance Calculation}
\usage{
calculate_nb(design_matrix)
}
\arguments{
\item{design_matrix}{A design matrix}
}
\value{
A list containing:
\itemize{
\item nb - Matrix of optimized treatment layout
\item max_nb - Data frame of optimized design
\item max_pairs - Final optimization score
}
}
\description{
A metric that counts the occurrence of the same adjacent pairs. Only horizontal and vertical pairs are
counted.
}
\examples{
design_matrix <- matrix(c(1, 2, 2, 1, 3, 3, 1, 3, 3), nrow = 3, ncol = 3)
layout_df <- data.frame(
  row = rep(1:3, each = 3),
  col = rep(1:3, times = 3)
)
objective_function()(design_matrix, layout_df, "treatment", c("row", "col"))

}
